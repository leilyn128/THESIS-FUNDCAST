{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ALDEGS09/thesis/components/ui/card.jsx"],"sourcesContent":["export function Card({ children }) {\r\n  return <div className=\"bg-white rounded-xl shadow\">{children}</div>\r\n}\r\n\r\nexport function CardContent({ children, className }) {\r\n  return <div className={className}>{children}</div>\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAO,SAAS,KAAK,KAAY;QAAZ,EAAE,QAAQ,EAAE,GAAZ;IACnB,qBAAO,uMAAC;QAAI,WAAU;kBAA8B;;;;;;AACtD;KAFgB;AAIT,SAAS,YAAY,KAAuB;QAAvB,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAvB;IAC1B,qBAAO,uMAAC;QAAI,WAAW;kBAAY;;;;;;AACrC;MAFgB","debugId":null}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ALDEGS09/thesis/app/%28protected%29/dashboard/components/useCashflowData.jsx"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { supabase } from \"../../../../lib/supabaseClient\";\r\n\r\nexport function useCashflowData() {\r\n  const [transactions, setTransactions] = useState([]);\r\n  const [chartData, setChartData] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchCashflow();\r\n  }, []);\r\n\r\n  const fetchCashflow = async () => {\r\n    setLoading(true);\r\n    const { data, error } = await supabase\r\n      .from(\"transactions\")\r\n      .select(\"*\")\r\n      .order(\"date\", { ascending: true });\r\n\r\n    if (error) {\r\n      console.error(\"âŒ Supabase fetch error:\", error.message);\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    const mapped = (data || [])\r\n      .filter((row) => row.date)\r\n      .map((row) => ({\r\n        date: row.date,\r\n        description: row.description || \"\",\r\n        deposit: Number(String(row.deposit || \"0\").replace(/[â‚±, ]/g, \"\")),\r\n        withdrawal: Number(String(row.withdrawal || \"0\").replace(/[â‚±, ]/g, \"\")),\r\n        balance: Number(String(row.balance || \"0\").replace(/[â‚±, ]/g, \"\")),\r\n        type:\r\n          row.deposit && Number(String(row.deposit).replace(/[â‚±, ]/g, \"\")) > 0\r\n            ? \"Income\"\r\n            : row.withdrawal &&\r\n              Number(String(row.withdrawal).replace(/[â‚±, ]/g, \"\")) > 0\r\n            ? \"Expense\"\r\n            : \"Other\",\r\n        amount:\r\n          Number(\r\n            String(row.deposit || row.withdrawal || \"0\").replace(/[â‚±, ]/g, \"\")\r\n          ) || 0,\r\n      }));\r\n\r\n    setTransactions(mapped);\r\n    processChartData(mapped);\r\n    setLoading(false);\r\n  };\r\n\r\n  const processChartData = (data) => {\r\n    const grouped = {};\r\n    data.forEach((t) => {\r\n      const d = new Date(t.date);\r\n      if (isNaN(d)) return;\r\n\r\n      const month = d.toLocaleString(\"default\", { month: \"short\" });\r\n      const year = d.getFullYear();\r\n      const key = `${month} ${year}`;\r\n\r\n      if (!grouped[key]) grouped[key] = { month: key, income: 0, expense: 0 };\r\n\r\n      if (t.type === \"Income\") grouped[key].income += t.amount;\r\n      else if (t.type === \"Expense\") grouped[key].expense += t.amount;\r\n    });\r\n\r\n    const formatted = Object.values(grouped).map((g) => ({\r\n      ...g,\r\n      net: g.income - g.expense,\r\n    }));\r\n\r\n    setChartData(formatted);\r\n  };\r\n\r\n  return { transactions, chartData, loading };\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;;AAFA;;;AAIO,SAAS;;IACd,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,mLAAQ,EAAC,EAAE;IACnD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,mLAAQ,EAAC,EAAE;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,mLAAQ,EAAC;IAEvC,IAAA,oLAAS;qCAAC;YACR;QACF;oCAAG,EAAE;IAEL,MAAM,gBAAgB;QACpB,WAAW;QACX,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,8IAAQ,CACnC,IAAI,CAAC,gBACL,MAAM,CAAC,KACP,KAAK,CAAC,QAAQ;YAAE,WAAW;QAAK;QAEnC,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,2BAA2B,MAAM,OAAO;YACtD,WAAW;YACX;QACF;QAEA,MAAM,SAAS,CAAC,QAAQ,EAAE,EACvB,MAAM,CAAC,CAAC,MAAQ,IAAI,IAAI,EACxB,GAAG,CAAC,CAAC,MAAQ,CAAC;gBACb,MAAM,IAAI,IAAI;gBACd,aAAa,IAAI,WAAW,IAAI;gBAChC,SAAS,OAAO,OAAO,IAAI,OAAO,IAAI,KAAK,OAAO,CAAC,UAAU;gBAC7D,YAAY,OAAO,OAAO,IAAI,UAAU,IAAI,KAAK,OAAO,CAAC,UAAU;gBACnE,SAAS,OAAO,OAAO,IAAI,OAAO,IAAI,KAAK,OAAO,CAAC,UAAU;gBAC7D,MACE,IAAI,OAAO,IAAI,OAAO,OAAO,IAAI,OAAO,EAAE,OAAO,CAAC,UAAU,OAAO,IAC/D,WACA,IAAI,UAAU,IACd,OAAO,OAAO,IAAI,UAAU,EAAE,OAAO,CAAC,UAAU,OAAO,IACvD,YACA;gBACN,QACE,OACE,OAAO,IAAI,OAAO,IAAI,IAAI,UAAU,IAAI,KAAK,OAAO,CAAC,UAAU,QAC5D;YACT,CAAC;QAEH,gBAAgB;QAChB,iBAAiB;QACjB,WAAW;IACb;IAEA,MAAM,mBAAmB,CAAC;QACxB,MAAM,UAAU,CAAC;QACjB,KAAK,OAAO,CAAC,CAAC;YACZ,MAAM,IAAI,IAAI,KAAK,EAAE,IAAI;YACzB,IAAI,MAAM,IAAI;YAEd,MAAM,QAAQ,EAAE,cAAc,CAAC,WAAW;gBAAE,OAAO;YAAQ;YAC3D,MAAM,OAAO,EAAE,WAAW;YAC1B,MAAM,MAAM,AAAC,GAAW,OAAT,OAAM,KAAQ,OAAL;YAExB,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,OAAO,CAAC,IAAI,GAAG;gBAAE,OAAO;gBAAK,QAAQ;gBAAG,SAAS;YAAE;YAEtE,IAAI,EAAE,IAAI,KAAK,UAAU,OAAO,CAAC,IAAI,CAAC,MAAM,IAAI,EAAE,MAAM;iBACnD,IAAI,EAAE,IAAI,KAAK,WAAW,OAAO,CAAC,IAAI,CAAC,OAAO,IAAI,EAAE,MAAM;QACjE;QAEA,MAAM,YAAY,OAAO,MAAM,CAAC,SAAS,GAAG,CAAC,CAAC,IAAM,CAAC;gBACnD,GAAG,CAAC;gBACJ,KAAK,EAAE,MAAM,GAAG,EAAE,OAAO;YAC3B,CAAC;QAED,aAAa;IACf;IAEA,OAAO;QAAE;QAAc;QAAW;IAAQ;AAC5C;GAzEgB","debugId":null}},
    {"offset": {"line": 127, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ALDEGS09/thesis/app/%28protected%29/dashboard/page.jsx"],"sourcesContent":["\"use client\";\r\nimport { useState } from \"react\";\r\nimport { Card } from \"@/components/ui/card\"\r\nimport CashflowChart from \"./components/CashflowChart\"\r\nimport TransactionTable from \"./components/TransactionTable\"\r\nimport ToggleButton from \"./components/ToggleButton\"\r\nimport { useCashflowData } from \"./components/useCashflowData\"\r\n\r\nexport default function Page() {\r\n  const { transactions, chartData, loading } = useCashflowData();\r\n  const [showTable, setShowTable] = useState(false);\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-6\">\r\n      <h1 className=\"text-2xl font-bold\">ðŸ’° 2025 Cashflow Overview</h1>\r\n\r\n      {/* ðŸ“Š Monthly Chart */}\r\n      <Card>\r\n        <CashflowChart data={chartData} />\r\n      </Card>\r\n\r\n      {/* ðŸ“‹ Toggle Transaction Table */}\r\n      <div>\r\n        <ToggleButton showTable={showTable} setShowTable={setShowTable} />\r\n        {showTable && (\r\n          <TransactionTable transactions={transactions} loading={loading} />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;;;;;;;;;;;;;AAIA;;;AANA;;;;;;;AAQe,SAAS;;IACtB,MAAM,EAAE,YAAY,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,IAAA,mMAAe;IAC5D,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,mLAAQ,EAAC;IAE3C,qBACE,uMAAC;QAAI,WAAU;;0BACb,uMAAC;gBAAG,WAAU;0BAAqB;;;;;;0BAGnC,uMAAC,8IAAI;0BACH,cAAA,uMAAC;oBAAc,MAAM;;;;;;;;;;;0BAIvB,uMAAC;;kCACC,uMAAC;wBAAa,WAAW;wBAAW,cAAc;;;;;;oBACjD,2BACC,uMAAC;wBAAiB,cAAc;wBAAc,SAAS;;;;;;;;;;;;;;;;;;AAKjE;GAtBwB;;QACuB,mMAAe;;;KADtC","debugId":null}}]
}