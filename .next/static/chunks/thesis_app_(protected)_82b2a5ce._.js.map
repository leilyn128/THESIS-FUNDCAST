{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ALDEGS09/thesis/app/%28protected%29/transaction/components/transactionTable.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { Edit3, Trash2, Check, X, Search } from \"lucide-react\";\r\n\r\n// Peso formatter\r\nconst currency = (val = 0) =>\r\n  new Intl.NumberFormat(\"en-PH\", {\r\n    style: \"currency\",\r\n    currency: \"PHP\",\r\n    minimumFractionDigits: 2,\r\n  }).format(val);\r\n\r\nexport default function TransactionTable({\r\n  transactions = [],\r\n  loading,\r\n  onEditTransaction,\r\n  onDeleteTransaction,\r\n  hideActions = false\r\n\r\n}) {\r\n  const [editingId, setEditingId] = useState(null);\r\n  const [rowForm, setRowForm] = useState({});\r\n\r\n  /* ================= FILTER STATE ================= */\r\n  const [filters, setFilters] = useState({\r\n    type: \"all\",\r\n    search: \"\",\r\n    fromDate: \"\",\r\n    toDate: \"\",\r\n  });\r\n\r\n  /* ================= FILTER LOGIC ================= */\r\n  const filteredTransactions = transactions.filter((t) => {\r\n    if (filters.type === \"income\" && t.deposit <= 0) return false;\r\n    if (filters.type === \"expense\" && t.withdrawal <= 0) return false;\r\n\r\n    if (filters.fromDate && new Date(t.date) < new Date(filters.fromDate))\r\n      return false;\r\n    if (filters.toDate && new Date(t.date) > new Date(filters.toDate))\r\n      return false;\r\n\r\n    if (\r\n      filters.search &&\r\n      !`${t.description ?? \"\"}`.toLowerCase().includes(filters.search.toLowerCase())\r\n    )\r\n      return false;\r\n\r\n    return true;\r\n  });\r\n\r\n  /* ================= EDIT LOGIC ================= */\r\n  const startEdit = (t) => {\r\n    setEditingId(t.id);\r\n    setRowForm({\r\n      date: t.date,\r\n      description: t.description,\r\n      deposit: t.deposit || \"\",\r\n      withdrawal: t.withdrawal || \"\",\r\n    });\r\n  };\r\n\r\n  const cancelEdit = () => {\r\n    setEditingId(null);\r\n    setRowForm({});\r\n  };\r\n\r\n  const saveEdit = (id) => {\r\n    onEditTransaction(\r\n      {\r\n        date: rowForm.date,\r\n        description: rowForm.description,\r\n        deposit: Number(rowForm.deposit || 0),\r\n        withdrawal: Number(rowForm.withdrawal || 0),\r\n      },\r\n      id\r\n    );\r\n    cancelEdit();\r\n  };\r\n\r\n  \r\nconst formatDescription = (text = \"\") =>\r\n  text\r\n    .toLowerCase()\r\n    .replace(/^\\w/, (c) => c.toUpperCase());\r\n\r\n\r\n{!hideActions && (\r\n  <th className=\"px-4 py-2\">Actions</th>\r\n)}\r\n\r\n{!hideActions && (\r\n  <td className=\"px-4 py-2\">\r\n    {/* edit / delete buttons */}\r\n  </td>\r\n)}\r\n    \r\n return (\r\n  <div className=\"print-root bg-white\">\r\n    <div className=\"print-area\">\r\n\r\n    {/* SCREEN-ONLY SCROLL WRAPPERS */}\r\n    <div className=\"table-scroll-x overflow-x-auto max-w-full\">\r\n      <div className=\"table-scroll-y max-h-[800px] overflow-y-auto\">\r\n\r\n        <table className=\"transactions-table w-full min-w-[900px] text-sm\">\r\n\r\n<thead className=\"bg-emerald-50 border-b border-emerald-200 sticky top-0 z-10\">\r\n  <tr className=\"text-slate-700 text-lg font-semibold\">\r\n    <th className=\"px-8 py-5 text-left\">Date</th>\r\n    <th className=\"px-5 py-3 text-left\">Description</th>\r\n    <th className=\"px-5 py-3 text-right\">Income</th>\r\n    <th className=\"px-5 py-3 text-right\">Expenses</th>\r\n    <th className=\"px-5 py-3 text-right\">Balance</th>\r\n    <th className=\"px-10 py-3 text-center\">Actions</th>\r\n  </tr>\r\n</thead>\r\n\r\n\r\n<tbody className=\"divide-y divide-slate-100 text-[15px] font-medium text-slate-700\">\r\n  {filteredTransactions.map((t) => {\r\n    const isEditing = editingId === t.id;\r\n\r\n    return (\r\n      <tr\r\n        key={t.id}\r\n        className=\"hover:bg-slate-50 transition\"\r\n      >\r\n\r\n        {/* DATE */}\r\n        <td className=\"px-5 py-4\">\r\n          {isEditing ? (\r\n            <input\r\n              type=\"date\"\r\n              value={rowForm.date}\r\n              onChange={(e) =>\r\n                setRowForm({ ...rowForm, date: e.target.value })\r\n              }\r\n              className=\"border border-slate-300 rounded-md px-2 py-1 w-full text-sm font-normal\"\r\n            />\r\n          ) : (\r\n            <span className=\"font-medium\">\r\n              {t.date}\r\n            </span>\r\n          )}\r\n        </td>\r\n\r\n        {/* DESCRIPTION */}\r\n        <td className=\"px-5 py-4\">\r\n          {isEditing ? (\r\n            <input\r\n              value={rowForm.description}\r\n              onChange={(e) =>\r\n                setRowForm({ ...rowForm, description: e.target.value })\r\n              }\r\n              className=\"border border-slate-300 rounded-md px-2 py-1 w-full text-sm font-normal\"\r\n            />\r\n          ) : (\r\n            <span className=\"font-semibold tracking-wide font-variant-small-caps\">\r\n              {formatDescription(t.description)}\r\n            </span>\r\n          )}\r\n        </td>\r\n\r\n        {/* INCOME */}\r\n        <td className=\"px-5 py-4 text-right\">\r\n          {isEditing ? (\r\n            <input\r\n              type=\"number\"\r\n              value={rowForm.deposit}\r\n              onChange={(e) =>\r\n                setRowForm({ ...rowForm, deposit: e.target.value })\r\n              }\r\n              className=\"border border-slate-300 rounded-md px-2 py-1 w-full text-right text-sm font-normal\"\r\n            />\r\n          ) : t.deposit ? (\r\n            <span className=\"text-emerald-700 font-semibold\">\r\n              {currency(t.deposit)}\r\n            </span>\r\n          ) : (\r\n            <span className=\"text-slate-400\">‚Äî</span>\r\n          )}\r\n        </td>\r\n\r\n        {/* EXPENSE */}\r\n        <td className=\"px-5 py-4 text-right\">\r\n          {isEditing ? (\r\n            <input\r\n              type=\"number\"\r\n              value={rowForm.withdrawal}\r\n              onChange={(e) =>\r\n                setRowForm({ ...rowForm, withdrawal: e.target.value })\r\n              }\r\n              className=\"border border-slate-300 rounded-md px-2 py-1 w-full text-right text-sm font-normal\"\r\n            />\r\n          ) : t.withdrawal ? (\r\n            <span className=\"text-rose-700 font-semibold\">\r\n              {currency(t.withdrawal)}\r\n            </span>\r\n          ) : (\r\n            <span className=\"text-slate-400\">‚Äî</span>\r\n          )}\r\n        </td>\r\n\r\n        {/* BALANCE */}\r\n        <td className=\"px-5 py-4 text-right font-semibold text-slate-800\">\r\n          {currency(t.balance)}\r\n        </td>\r\n\r\n        {/* ACTIONS */}\r\n        <td className=\"px-5 py-4 text-center\">\r\n          {isEditing ? (\r\n            <div className=\"flex justify-center gap-2\">\r\n              <button\r\n                onClick={() => saveEdit(t.id)}\r\n                className=\"p-1.5 rounded-md hover:bg-emerald-50 transition\"\r\n              >\r\n                <Check size={16} className=\"text-emerald-600\" />\r\n              </button>\r\n              <button\r\n                onClick={cancelEdit}\r\n                className=\"p-1.5 rounded-md hover:bg-slate-100 transition\"\r\n              >\r\n                <X size={16} className=\"text-slate-600\" />\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            <div className=\"flex justify-center gap-2\">\r\n              <button\r\n                onClick={() => startEdit(t)}\r\n                className=\"p-1.5 rounded-md hover:bg-slate-100 transition\"\r\n              >\r\n                <Edit3 size={15} className=\"text-slate-600\" />\r\n              </button>\r\n              <button\r\n                onClick={() => onDeleteTransaction(t.id)}\r\n                className=\"p-1.5 rounded-md hover:bg-rose-50 transition\"\r\n              >\r\n                <Trash2 size={15} className=\"text-rose-600\" />\r\n              </button>\r\n            </div>\r\n          )}\r\n        </td>\r\n\r\n      </tr>\r\n    );\r\n  })}\r\n</tbody>\r\n\r\n\r\n        </table>\r\n\r\n        {loading && (\r\n          <div className=\"p-4 text-center text-slate-500\">\r\n            Loading transactions‚Ä¶\r\n          </div>\r\n        )}\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n  </div>\r\n);\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 452, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ALDEGS09/thesis/app/%28protected%29/transaction/components/transactionModal.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { X } from \"lucide-react\";\r\n\r\nexport default function TransactionModal({\r\n  selectedYear,\r\n  onClose,\r\n  onSubmit,\r\n}) {\r\n  const [form, setForm] = useState({\r\n    date: \"\",\r\n    description: \"\",\r\n    deposit: \"\",\r\n    withdrawal: \"\",\r\n  });\r\n\r\n  // ‚úÖ Default date locked to selected year\r\n  useEffect(() => {\r\n    if (selectedYear) {\r\n      setForm((prev) => ({\r\n        ...prev,\r\n        date: `${selectedYear}-01-01`,\r\n      }));\r\n    }\r\n  }, [selectedYear]);\r\n\r\n  // ‚úÖ Validation\r\n  const isValid =\r\n    form.date &&\r\n    form.description &&\r\n    (Number(form.deposit) > 0 || Number(form.withdrawal) > 0) &&\r\n    !(Number(form.deposit) > 0 && Number(form.withdrawal) > 0);\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/40\">\r\n      <div className=\"bg-white rounded-xl shadow-xl w-full max-w-lg p-6\">\r\n\r\n        {/* HEADER */}\r\n        <div className=\"flex justify-between items-center mb-4\">\r\n          <h2 className=\"text-lg font-semibold text-slate-800\">\r\n            Add Transaction\r\n          </h2>\r\n          <button onClick={onClose}>\r\n            <X className=\"w-5 h-5 text-slate-500 hover:text-slate-800\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* FORM */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n\r\n          <input\r\n            type=\"date\"\r\n            min={`${selectedYear}-01-01`}\r\n            max={`${selectedYear}-12-31`}\r\n            className=\"border rounded px-3 py-2 text-sm\"\r\n            value={form.date}\r\n            onChange={(e) =>\r\n              setForm({ ...form, date: e.target.value })\r\n            }\r\n          />\r\n\r\n          \r\n\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Description\"\r\n            className=\"border rounded px-3 py-2 text-sm md:col-span-2\"\r\n            value={form.description}\r\n            onChange={(e) =>\r\n              setForm({ ...form, description: e.target.value })\r\n            }\r\n          />\r\n\r\n          \r\n          \r\n          <input\r\n            type=\"number\"\r\n            placeholder=\"Income\"\r\n            className=\"border rounded px-3 py-2 text-sm\"\r\n            value={form.deposit}\r\n            onChange={(e) =>\r\n              setForm({\r\n                ...form,\r\n                deposit: e.target.value,\r\n                withdrawal: \"\",\r\n              })\r\n            }\r\n          />\r\n\r\n          <input\r\n            type=\"number\"\r\n            placeholder=\"Expenses\"\r\n            className=\"border rounded px-3 py-2 text-sm\"\r\n            value={form.withdrawal}\r\n            onChange={(e) =>\r\n              setForm({\r\n                ...form,\r\n                withdrawal: e.target.value,\r\n                deposit: \"\",\r\n              })\r\n            }\r\n          />\r\n        </div>\r\n\r\n        {/* ACTIONS */}\r\n        <div className=\"flex justify-end gap-2 mt-6\">\r\n          <button\r\n            onClick={onClose}\r\n            className=\"px-4 py-2 rounded bg-slate-200 hover:bg-slate-300 text-sm\"\r\n          >\r\n            Cancel\r\n          </button>\r\n\r\n          <button\r\n            disabled={!isValid}\r\n            onClick={() => {\r\n              onSubmit({\r\n                ...form,\r\n                deposit: Number(form.deposit || 0),\r\n                withdrawal: Number(form.withdrawal || 0),\r\n              });\r\n              onClose();\r\n            }}\r\n            className={`px-4 py-2 rounded text-sm text-white\r\n              ${\r\n                isValid\r\n                  ? \"bg-emerald-600 hover:bg-emerald-700\"\r\n                  : \"bg-slate-400 cursor-not-allowed\"\r\n              }`}\r\n          >\r\n            Save Transaction\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAKe,SAAS,iBAAiB,KAIxC;QAJwC,EACvC,YAAY,EACZ,OAAO,EACP,QAAQ,EACT,GAJwC;;IAKvC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,mLAAQ,EAAC;QAC/B,MAAM;QACN,aAAa;QACb,SAAS;QACT,YAAY;IACd;IAEA,yCAAyC;IACzC,IAAA,oLAAS;sCAAC;YACR,IAAI,cAAc;gBAChB;kDAAQ,CAAC,OAAS,CAAC;4BACjB,GAAG,IAAI;4BACP,MAAM,AAAC,GAAe,OAAb,cAAa;wBACxB,CAAC;;YACH;QACF;qCAAG;QAAC;KAAa;IAEjB,eAAe;IACf,MAAM,UACJ,KAAK,IAAI,IACT,KAAK,WAAW,IAChB,CAAC,OAAO,KAAK,OAAO,IAAI,KAAK,OAAO,KAAK,UAAU,IAAI,CAAC,KACxD,CAAC,CAAC,OAAO,KAAK,OAAO,IAAI,KAAK,OAAO,KAAK,UAAU,IAAI,CAAC;IAE3D,qBACE,uMAAC;QAAI,WAAU;kBACb,cAAA,uMAAC;YAAI,WAAU;;8BAGb,uMAAC;oBAAI,WAAU;;sCACb,uMAAC;4BAAG,WAAU;sCAAuC;;;;;;sCAGrD,uMAAC;4BAAO,SAAS;sCACf,cAAA,uMAAC,8MAAC;gCAAC,WAAU;;;;;;;;;;;;;;;;;8BAKjB,uMAAC;oBAAI,WAAU;;sCAEb,uMAAC;4BACC,MAAK;4BACL,KAAK,AAAC,GAAe,OAAb,cAAa;4BACrB,KAAK,AAAC,GAAe,OAAb,cAAa;4BACrB,WAAU;4BACV,OAAO,KAAK,IAAI;4BAChB,UAAU,CAAC,IACT,QAAQ;oCAAE,GAAG,IAAI;oCAAE,MAAM,EAAE,MAAM,CAAC,KAAK;gCAAC;;;;;;sCAM5C,uMAAC;4BACC,MAAK;4BACL,aAAY;4BACZ,WAAU;4BACV,OAAO,KAAK,WAAW;4BACvB,UAAU,CAAC,IACT,QAAQ;oCAAE,GAAG,IAAI;oCAAE,aAAa,EAAE,MAAM,CAAC,KAAK;gCAAC;;;;;;sCAMnD,uMAAC;4BACC,MAAK;4BACL,aAAY;4BACZ,WAAU;4BACV,OAAO,KAAK,OAAO;4BACnB,UAAU,CAAC,IACT,QAAQ;oCACN,GAAG,IAAI;oCACP,SAAS,EAAE,MAAM,CAAC,KAAK;oCACvB,YAAY;gCACd;;;;;;sCAIJ,uMAAC;4BACC,MAAK;4BACL,aAAY;4BACZ,WAAU;4BACV,OAAO,KAAK,UAAU;4BACtB,UAAU,CAAC,IACT,QAAQ;oCACN,GAAG,IAAI;oCACP,YAAY,EAAE,MAAM,CAAC,KAAK;oCAC1B,SAAS;gCACX;;;;;;;;;;;;8BAMN,uMAAC;oBAAI,WAAU;;sCACb,uMAAC;4BACC,SAAS;4BACT,WAAU;sCACX;;;;;;sCAID,uMAAC;4BACC,UAAU,CAAC;4BACX,SAAS;gCACP,SAAS;oCACP,GAAG,IAAI;oCACP,SAAS,OAAO,KAAK,OAAO,IAAI;oCAChC,YAAY,OAAO,KAAK,UAAU,IAAI;gCACxC;gCACA;4BACF;4BACA,WAAW,AAAC,uDAKT,OAHC,UACI,wCACA;sCAET;;;;;;;;;;;;;;;;;;;;;;;AAOX;GApIwB;KAAA","debugId":null}},
    {"offset": {"line": 652, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ALDEGS09/thesis/app/%28protected%29/dashboard/components/useCashflowData.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { supabase } from \"../../../../lib/supabaseClient\";\r\n\r\nexport function useCashflowData(year) {\r\n  const [transactions, setTransactions] = useState([]);\r\n  const [chartData, setChartData] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (year) fetchCashflow();\r\n  }, [year]);\r\n\r\n  const fetchCashflow = async () => {\r\n    setLoading(true);\r\n\r\n    const startDate = `${year}-01-01`;\r\n    const endDate = `${year}-12-31`;\r\n\r\n    // 1Ô∏è‚É£ Fetch transactions FOR SELECTED YEAR ONLY\r\n    const { data, error } = await supabase\r\n      .from(\"transactions\")\r\n      .select(\"*\")\r\n      .gte(\"date\", startDate)\r\n      .lte(\"date\", endDate)\r\n      .order(\"date\", { ascending: true });\r\n\r\n    if (error) {\r\n      console.error(\"‚ùå Supabase fetch error:\", error.message);\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    // 2Ô∏è‚É£ Clean numeric values\r\n    const mapped = (data || [])\r\n      .filter((row) => row.date)\r\n      .map((row) => ({\r\n        ...row,\r\n        deposit: Number(String(row.deposit || \"0\").replace(/[‚Ç±, ]/g, \"\")),\r\n        withdrawal: Number(String(row.withdrawal || \"0\").replace(/[‚Ç±, ]/g, \"\")),\r\n        balance: Number(String(row.balance || \"0\").replace(/[‚Ç±, ]/g, \"\")),\r\n\r\n        // OPTIONAL: normalize categories (safe)\r\n        incomeCategory: row.income_category || row.category || null,\r\n        expenseCategory: row.expense_category || row.category || null,\r\n      }));\r\n\r\n    setTransactions(mapped);\r\n\r\n    // 3Ô∏è‚É£ Aggregate per month\r\n    const grouped = {};\r\n\r\n    mapped.forEach((t) => {\r\n      const d = new Date(t.date);\r\n      const monthKey = d.toLocaleString(\"default\", {\r\n        month: \"short\",\r\n        year: \"numeric\",\r\n      });\r\n\r\n      if (!grouped[monthKey]) {\r\n        grouped[monthKey] = {\r\n          month: monthKey,\r\n          income: 0,\r\n          expense: 0,\r\n          balance: 0,\r\n        };\r\n      }\r\n\r\n      grouped[monthKey].income += t.deposit || 0;\r\n      grouped[monthKey].expense += t.withdrawal || 0;\r\n\r\n      // last balance of the month\r\n      grouped[monthKey].balance = t.balance || grouped[monthKey].balance;\r\n    });\r\n\r\n    const monthlyArray = Object.values(grouped)\r\n      .sort((a, b) => new Date(a.month) - new Date(b.month))\r\n      .map((g) => ({\r\n        ...g,\r\n        net: g.income - g.expense,\r\n      }));\r\n\r\n    setChartData(monthlyArray);\r\n    setLoading(false);\r\n  };\r\n\r\n  return {\r\n    transactions,\r\n    chartData,\r\n    loading,\r\n    refetch: fetchCashflow,\r\n  };\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;;AAHA;;;AAKO,SAAS,gBAAgB,IAAI;;IAClC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,mLAAQ,EAAC,EAAE;IACnD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,mLAAQ,EAAC,EAAE;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,mLAAQ,EAAC;IAEvC,IAAA,oLAAS;qCAAC;YACR,IAAI,MAAM;QACZ;oCAAG;QAAC;KAAK;IAET,MAAM,gBAAgB;QACpB,WAAW;QAEX,MAAM,YAAY,AAAC,GAAO,OAAL,MAAK;QAC1B,MAAM,UAAU,AAAC,GAAO,OAAL,MAAK;QAExB,gDAAgD;QAChD,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,8IAAQ,CACnC,IAAI,CAAC,gBACL,MAAM,CAAC,KACP,GAAG,CAAC,QAAQ,WACZ,GAAG,CAAC,QAAQ,SACZ,KAAK,CAAC,QAAQ;YAAE,WAAW;QAAK;QAEnC,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,2BAA2B,MAAM,OAAO;YACtD,WAAW;YACX;QACF;QAEA,2BAA2B;QAC3B,MAAM,SAAS,CAAC,QAAQ,EAAE,EACvB,MAAM,CAAC,CAAC,MAAQ,IAAI,IAAI,EACxB,GAAG,CAAC,CAAC,MAAQ,CAAC;gBACb,GAAG,GAAG;gBACN,SAAS,OAAO,OAAO,IAAI,OAAO,IAAI,KAAK,OAAO,CAAC,UAAU;gBAC7D,YAAY,OAAO,OAAO,IAAI,UAAU,IAAI,KAAK,OAAO,CAAC,UAAU;gBACnE,SAAS,OAAO,OAAO,IAAI,OAAO,IAAI,KAAK,OAAO,CAAC,UAAU;gBAE7D,wCAAwC;gBACxC,gBAAgB,IAAI,eAAe,IAAI,IAAI,QAAQ,IAAI;gBACvD,iBAAiB,IAAI,gBAAgB,IAAI,IAAI,QAAQ,IAAI;YAC3D,CAAC;QAEH,gBAAgB;QAEhB,0BAA0B;QAC1B,MAAM,UAAU,CAAC;QAEjB,OAAO,OAAO,CAAC,CAAC;YACd,MAAM,IAAI,IAAI,KAAK,EAAE,IAAI;YACzB,MAAM,WAAW,EAAE,cAAc,CAAC,WAAW;gBAC3C,OAAO;gBACP,MAAM;YACR;YAEA,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE;gBACtB,OAAO,CAAC,SAAS,GAAG;oBAClB,OAAO;oBACP,QAAQ;oBACR,SAAS;oBACT,SAAS;gBACX;YACF;YAEA,OAAO,CAAC,SAAS,CAAC,MAAM,IAAI,EAAE,OAAO,IAAI;YACzC,OAAO,CAAC,SAAS,CAAC,OAAO,IAAI,EAAE,UAAU,IAAI;YAE7C,4BAA4B;YAC5B,OAAO,CAAC,SAAS,CAAC,OAAO,GAAG,EAAE,OAAO,IAAI,OAAO,CAAC,SAAS,CAAC,OAAO;QACpE;QAEA,MAAM,eAAe,OAAO,MAAM,CAAC,SAChC,IAAI,CAAC,CAAC,GAAG,IAAM,IAAI,KAAK,EAAE,KAAK,IAAI,IAAI,KAAK,EAAE,KAAK,GACnD,GAAG,CAAC,CAAC,IAAM,CAAC;gBACX,GAAG,CAAC;gBACJ,KAAK,EAAE,MAAM,GAAG,EAAE,OAAO;YAC3B,CAAC;QAEH,aAAa;QACb,WAAW;IACb;IAEA,OAAO;QACL;QACA;QACA;QACA,SAAS;IACX;AACF;GAxFgB","debugId":null}},
    {"offset": {"line": 741, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ALDEGS09/thesis/app/%28protected%29/transaction/page.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useSearchParams, useRouter } from \"next/navigation\";\r\nimport { supabase } from \"../../../lib/supabaseClient\";\r\nimport TransactionTable from \"../transaction/components/transactionTable\";\r\nimport TransactionModal from \"../transaction/components/transactionModal\";\r\nimport { useCashflowData } from \"../dashboard/components/useCashflowData\";\r\nimport * as XLSX from \"xlsx\";\r\n\r\nexport default function TransactionsPage() {\r\n  const router = useRouter();\r\n  const searchParams = useSearchParams();\r\n\r\n  const [exportLoading, setExportLoading] = useState(false);\r\n  const [exportType, setExportType] = useState(\"all\");\r\n  const [showAddModal, setShowAddModal] = useState(false);\r\n\r\n  // =========================\r\n  // YEAR (SYNCED WITH DASHBOARD)\r\n  // =========================\r\n  const START_YEAR = 2025;\r\n  const currentYear = new Date().getFullYear();\r\n\r\n  const yearFromUrl = Number(searchParams.get(\"year\"));\r\n  \r\n  const selectedYear =\r\n    yearFromUrl && yearFromUrl >= START_YEAR\r\n      ? yearFromUrl\r\n      : currentYear >= START_YEAR\r\n      ? currentYear\r\n      : START_YEAR;\r\n\r\n  // =========================\r\n  // DATA FETCH\r\n  // =========================\r\n  const {\r\n    transactions: fetchedTransactions,\r\n    loading,\r\n    refetch,\r\n  } = useCashflowData(selectedYear);\r\n\r\n  const [transactions, setTransactions] = useState([]);\r\n\r\n  // =========================\r\n  // BALANCE RECALCULATION (CORE FIX)\r\n  // =========================\r\n  const recalculateBalances = (txns) => {\r\n    let runningBalance = 0;\r\n\r\n    return txns.map((t, index) => {\r\n      // Beginning balance (first row, deposit only)\r\n      if (index === 0 && t.deposit > 0 && !t.withdrawal) {\r\n        runningBalance = t.deposit;\r\n        return { ...t, balance: runningBalance };\r\n      }\r\n\r\n      runningBalance += (t.deposit || 0) - (t.withdrawal || 0);\r\n      return { ...t, balance: runningBalance };\r\n    });\r\n  };\r\n\r\n  // =========================\r\n  // APPLY RECALCULATION (NO SORT)\r\n  // =========================\r\nuseEffect(() => {\r\n  if (!fetchedTransactions) return;\r\n\r\n  // üîπ 2025 = legacy data ‚Üí trust DB balances\r\n  if (selectedYear === 2025) {\r\n    setTransactions(fetchedTransactions);\r\n    return;\r\n  }\r\n\r\n  // üîπ 2026+ = new rules ‚Üí recalculate balances\r\n  const recalculated = recalculateBalances(fetchedTransactions);\r\n  setTransactions(recalculated);\r\n\r\n}, [fetchedTransactions, selectedYear]);\r\n\r\n  // =========================\r\n  // ADD TRANSACTION\r\n  // =========================\r\n  const handleAddTransaction = async (newTransaction) => {\r\n    try {\r\n      const transactionDate = newTransaction.date\r\n        ? newTransaction.date\r\n        : `${selectedYear}-01-01`;\r\n\r\n      const transactionToInsert = {\r\n        ...newTransaction,\r\n        date: transactionDate,\r\n      };\r\n\r\n      const { error } = await supabase\r\n        .from(\"transactions\")\r\n        .insert([transactionToInsert]);\r\n\r\n      if (error) throw error;\r\n\r\n      refetch();\r\n    } catch (err) {\r\n      console.error(\"Add transaction failed:\", err.message);\r\n      alert(\"Error adding transaction.\");\r\n    }\r\n  };\r\n\r\n  // =========================\r\n  // DELETE TRANSACTION\r\n  // =========================\r\n  const handleDeleteTransaction = async (id) => {\r\n    if (!id) return;\r\n    if (!window.confirm(\"Delete this transaction?\")) return;\r\n\r\n    try {\r\n      await supabase.from(\"transactions\").delete().eq(\"id\", id);\r\n\r\n      const updated = transactions.filter((t) => t.id !== id);\r\n      const recalculated = recalculateBalances(updated);\r\n\r\n      setTransactions(recalculated);\r\n\r\n      // Sync balances\r\n      for (const t of recalculated) {\r\n        await supabase\r\n          .from(\"transactions\")\r\n          .update({ balance: t.balance })\r\n          .eq(\"id\", t.id);\r\n      }\r\n\r\n      refetch();\r\n    } catch (err) {\r\n      console.error(\"Delete failed:\", err.message);\r\n      alert(\"Error deleting transaction.\");\r\n    }\r\n  };\r\n\r\n  // =========================\r\n  // EDIT TRANSACTION\r\n  // =========================\r\n  const handleEditTransaction = async (updatedTransaction, id) => {\r\n    try {\r\n      const updated = transactions.map((t) =>\r\n        t.id === id ? { ...t, ...updatedTransaction } : t\r\n      );\r\n\r\n      const recalculated = recalculateBalances(updated);\r\n      setTransactions(recalculated);\r\n\r\n      // Sync all balances\r\n      for (const t of recalculated) {\r\n        await supabase\r\n          .from(\"transactions\")\r\n          .update({ balance: t.balance })\r\n          .eq(\"id\", t.id);\r\n      }\r\n\r\n      refetch();\r\n    } catch (err) {\r\n      console.error(\"Edit failed:\", err.message);\r\n      alert(\"Error updating transaction.\");\r\n    }\r\n  };\r\n\r\n  // =========================\r\n  // EXPORT (FILTER AWARE)\r\n  // =========================\r\n  const handleExportExcel = async () => {\r\n    try {\r\n      setExportLoading(true);\r\n\r\n      let query = supabase\r\n        .from(\"transactions\")\r\n        .select(\"*\")\r\n        .gte(\"date\", `${selectedYear}-01-01`)\r\n        .lte(\"date\", `${selectedYear}-12-31`);\r\n\r\n      if (exportType === \"income\") query = query.gt(\"deposit\", 0);\r\n      if (exportType === \"expense\") query = query.gt(\"withdrawal\", 0);\r\n\r\n      const { data, error } = await query;\r\n      if (error) throw error;\r\n\r\n      if (!data || data.length === 0) {\r\n        alert(`No ${exportType} data for ${selectedYear}`);\r\n        return;\r\n      }\r\n\r\n      const formatted = data.map((t) => ({\r\n        Date: t.date,\r\n        Description: t.description || \"\",\r\n        Income: t.deposit ?? 0,\r\n        Expenses: t.withdrawal ?? 0,\r\n        Balance: t.balance ?? 0,\r\n      }));\r\n\r\n      const worksheet = XLSX.utils.json_to_sheet(formatted);\r\n      const workbook = XLSX.utils.book_new();\r\n      XLSX.utils.book_append_sheet(workbook, worksheet, \"Transactions\");\r\n\r\n      XLSX.writeFile(\r\n        workbook,\r\n        `transactions_${exportType}_${selectedYear}.xlsx`\r\n      );\r\n\r\n      alert(\"Export successful!\");\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(\"Export failed.\");\r\n    } finally {\r\n      setExportLoading(false);\r\n    }\r\n  };\r\n\r\n\r\n  // =========================\r\n  const filteredTransactions = transactions.filter((t) => {\r\n    if (exportType === \"income\") return (t.deposit || 0) > 0;\r\n    if (exportType === \"expense\") return (t.withdrawal || 0) > 0;\r\n    return true;\r\n  });\r\n\r\nconsole.log(\"PRINT PAGE LOADED\")\r\n\r\n return (\r\n  <div className=\"w-full\">\r\n\r\n    {/* HEADER (HIDDEN ON PRINT) */}\r\n    <div\r\n      className=\"\r\n        print:hidden\r\n        flex flex-col gap-4\r\n        rounded-2xl\r\n        bg-gradient-to-r from-emerald-900 via-emerald-800 to-emerald-700\r\n        px-6 py-5\r\n        shadow-sm\r\n      \"\r\n    >\r\n      {/* TITLE ROW */}\r\n      <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-3\">\r\n        <h1 className=\"text-2xl md:text-3xl font-semibold text-white\">\r\n          Transactions\r\n          <span className=\"ml-2 text-emerald-200 text-lg font-medium\">\r\n            ({selectedYear})\r\n          </span>\r\n        </h1>\r\n\r\n        {/* ACTION BUTTONS */}\r\n        <div className=\"flex flex-wrap items-center gap-3\">\r\n          <button\r\n            onClick={() => setShowAddModal(true)}\r\n            className=\"px-4 py-2 rounded-lg bg-emerald-600 text-white font-medium hover:bg-emerald-700 shadow\"\r\n          >\r\n            ‚ûï Add Transaction\r\n          </button>\r\n\r\n          {/* EXPORT GROUP */}\r\n          <div className=\"flex items-center gap-2\">\r\n           <select\r\n  value={exportType}\r\n  onChange={(e) => setExportType(e.target.value)}\r\n  className=\"\r\n    px-4 py-2\r\n    rounded-lg\r\n    bg-white\r\n    border border-emerald-300\r\n    text-sm font-medium text-emerald-800\r\n    shadow-sm\r\n    focus:outline-none\r\n    focus:ring-2 focus:ring-emerald-400 focus:border-emerald-400\r\n    hover:border-emerald-400\r\n    transition\r\n  \"\r\n>\r\n  <option value=\"all\">All Transactions</option>\r\n  <option value=\"income\">Income </option>\r\n  <option value=\"expense\">Expenses </option>\r\n</select>\r\n\r\n\r\n            <button\r\n              onClick={handleExportExcel}\r\n              disabled={exportLoading}\r\n              className={`px-4 py-2 rounded-lg font-medium text-white shadow\r\n                ${\r\n                  exportLoading\r\n                    ? \"bg-blue-400 cursor-not-allowed\"\r\n                    : \"bg-blue-600 hover:bg-blue-700\"\r\n                }\r\n              `}\r\n            >\r\n              {exportLoading ? \"Exporting...\" : \"üì§ Export\"}\r\n            </button>\r\n          </div>\r\n\r\n          <button\r\n  onClick={() => {\r\n    const url = `/transaction/print?year=${selectedYear}&type=${exportType}`\r\n    window.open(url, \"_blank\", \"width=900,height=650\")\r\n  }}\r\n  className=\"px-4 py-2 rounded-lg bg-slate-700 text-white font-medium hover:bg-slate-800 shadow\"\r\n>\r\n  üñ®Ô∏è Print\r\n</button>\r\n\r\n\r\n\r\n        </div>\r\n      </div>\r\n\r\n      \r\n    </div>\r\n\r\n    {/* TABLE (PRINT AREA) */}\r\n    <div className=\"print-area bg-white rounded-xl shadow p-6 border border-slate-200 mt-5\">\r\n      <TransactionTable\r\n  transactions={filteredTransactions}\r\n  loading={loading}\r\n  setTransactions={setTransactions}\r\n  onAddTransaction={handleAddTransaction}\r\n  onDeleteTransaction={handleDeleteTransaction}\r\n  onEditTransaction={handleEditTransaction}\r\n/>\r\n\r\n    </div>\r\n\r\n    {/* MODAL */}\r\n    {showAddModal && (\r\n      <TransactionModal\r\n        onClose={() => setShowAddModal(false)}\r\n        onSubmit={handleAddTransaction}\r\n      />\r\n    )}\r\n\r\n  </div>\r\n);\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AARA;;;;;;;;AAUe,SAAS;;IACtB,MAAM,SAAS,IAAA,4JAAS;IACxB,MAAM,eAAe,IAAA,kKAAe;IAEpC,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,mLAAQ,EAAC;IACnD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,mLAAQ,EAAC;IAC7C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,mLAAQ,EAAC;IAEjD,4BAA4B;IAC5B,+BAA+B;IAC/B,4BAA4B;IAC5B,MAAM,aAAa;IACnB,MAAM,cAAc,IAAI,OAAO,WAAW;IAE1C,MAAM,cAAc,OAAO,aAAa,GAAG,CAAC;IAE5C,MAAM,eACJ,eAAe,eAAe,aAC1B,cACA,eAAe,aACf,cACA;IAEN,4BAA4B;IAC5B,aAAa;IACb,4BAA4B;IAC5B,MAAM,EACJ,cAAc,mBAAmB,EACjC,OAAO,EACP,OAAO,EACR,GAAG,IAAA,mMAAe,EAAC;IAEpB,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,mLAAQ,EAAC,EAAE;IAEnD,4BAA4B;IAC5B,mCAAmC;IACnC,4BAA4B;IAC5B,MAAM,sBAAsB,CAAC;QAC3B,IAAI,iBAAiB;QAErB,OAAO,KAAK,GAAG,CAAC,CAAC,GAAG;YAClB,8CAA8C;YAC9C,IAAI,UAAU,KAAK,EAAE,OAAO,GAAG,KAAK,CAAC,EAAE,UAAU,EAAE;gBACjD,iBAAiB,EAAE,OAAO;gBAC1B,OAAO;oBAAE,GAAG,CAAC;oBAAE,SAAS;gBAAe;YACzC;YAEA,kBAAkB,CAAC,EAAE,OAAO,IAAI,CAAC,IAAI,CAAC,EAAE,UAAU,IAAI,CAAC;YACvD,OAAO;gBAAE,GAAG,CAAC;gBAAE,SAAS;YAAe;QACzC;IACF;IAEA,4BAA4B;IAC5B,gCAAgC;IAChC,4BAA4B;IAC9B,IAAA,oLAAS;sCAAC;YACR,IAAI,CAAC,qBAAqB;YAE1B,4CAA4C;YAC5C,IAAI,iBAAiB,MAAM;gBACzB,gBAAgB;gBAChB;YACF;YAEA,8CAA8C;YAC9C,MAAM,eAAe,oBAAoB;YACzC,gBAAgB;QAElB;qCAAG;QAAC;QAAqB;KAAa;IAEpC,4BAA4B;IAC5B,kBAAkB;IAClB,4BAA4B;IAC5B,MAAM,uBAAuB,OAAO;QAClC,IAAI;YACF,MAAM,kBAAkB,eAAe,IAAI,GACvC,eAAe,IAAI,GACnB,AAAC,GAAe,OAAb,cAAa;YAEpB,MAAM,sBAAsB;gBAC1B,GAAG,cAAc;gBACjB,MAAM;YACR;YAEA,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,8IAAQ,CAC7B,IAAI,CAAC,gBACL,MAAM,CAAC;gBAAC;aAAoB;YAE/B,IAAI,OAAO,MAAM;YAEjB;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,2BAA2B,IAAI,OAAO;YACpD,MAAM;QACR;IACF;IAEA,4BAA4B;IAC5B,qBAAqB;IACrB,4BAA4B;IAC5B,MAAM,0BAA0B,OAAO;QACrC,IAAI,CAAC,IAAI;QACT,IAAI,CAAC,OAAO,OAAO,CAAC,6BAA6B;QAEjD,IAAI;YACF,MAAM,8IAAQ,CAAC,IAAI,CAAC,gBAAgB,MAAM,GAAG,EAAE,CAAC,MAAM;YAEtD,MAAM,UAAU,aAAa,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;YACpD,MAAM,eAAe,oBAAoB;YAEzC,gBAAgB;YAEhB,gBAAgB;YAChB,KAAK,MAAM,KAAK,aAAc;gBAC5B,MAAM,8IAAQ,CACX,IAAI,CAAC,gBACL,MAAM,CAAC;oBAAE,SAAS,EAAE,OAAO;gBAAC,GAC5B,EAAE,CAAC,MAAM,EAAE,EAAE;YAClB;YAEA;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,kBAAkB,IAAI,OAAO;YAC3C,MAAM;QACR;IACF;IAEA,4BAA4B;IAC5B,mBAAmB;IACnB,4BAA4B;IAC5B,MAAM,wBAAwB,OAAO,oBAAoB;QACvD,IAAI;YACF,MAAM,UAAU,aAAa,GAAG,CAAC,CAAC,IAChC,EAAE,EAAE,KAAK,KAAK;oBAAE,GAAG,CAAC;oBAAE,GAAG,kBAAkB;gBAAC,IAAI;YAGlD,MAAM,eAAe,oBAAoB;YACzC,gBAAgB;YAEhB,oBAAoB;YACpB,KAAK,MAAM,KAAK,aAAc;gBAC5B,MAAM,8IAAQ,CACX,IAAI,CAAC,gBACL,MAAM,CAAC;oBAAE,SAAS,EAAE,OAAO;gBAAC,GAC5B,EAAE,CAAC,MAAM,EAAE,EAAE;YAClB;YAEA;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,gBAAgB,IAAI,OAAO;YACzC,MAAM;QACR;IACF;IAEA,4BAA4B;IAC5B,wBAAwB;IACxB,4BAA4B;IAC5B,MAAM,oBAAoB;QACxB,IAAI;YACF,iBAAiB;YAEjB,IAAI,QAAQ,8IAAQ,CACjB,IAAI,CAAC,gBACL,MAAM,CAAC,KACP,GAAG,CAAC,QAAQ,AAAC,GAAe,OAAb,cAAa,WAC5B,GAAG,CAAC,QAAQ,AAAC,GAAe,OAAb,cAAa;YAE/B,IAAI,eAAe,UAAU,QAAQ,MAAM,EAAE,CAAC,WAAW;YACzD,IAAI,eAAe,WAAW,QAAQ,MAAM,EAAE,CAAC,cAAc;YAE7D,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM;YAC9B,IAAI,OAAO,MAAM;YAEjB,IAAI,CAAC,QAAQ,KAAK,MAAM,KAAK,GAAG;gBAC9B,MAAM,AAAC,MAA4B,OAAvB,YAAW,cAAyB,OAAb;gBACnC;YACF;YAEA,MAAM,YAAY,KAAK,GAAG,CAAC,CAAC;oBAGlB,YACE,eACD;uBALwB;oBACjC,MAAM,EAAE,IAAI;oBACZ,aAAa,EAAE,WAAW,IAAI;oBAC9B,QAAQ,CAAA,aAAA,EAAE,OAAO,cAAT,wBAAA,aAAa;oBACrB,UAAU,CAAA,gBAAA,EAAE,UAAU,cAAZ,2BAAA,gBAAgB;oBAC1B,SAAS,CAAA,aAAA,EAAE,OAAO,cAAT,wBAAA,aAAa;gBACxB;;YAEA,MAAM,YAAY,mJAAU,CAAC,aAAa,CAAC;YAC3C,MAAM,WAAW,mJAAU,CAAC,QAAQ;YACpC,mJAAU,CAAC,iBAAiB,CAAC,UAAU,WAAW;YAElD,uJAAc,CACZ,UACA,AAAC,gBAA6B,OAAd,YAAW,KAAgB,OAAb,cAAa;YAG7C,MAAM;QACR,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC;YACd,MAAM;QACR,SAAU;YACR,iBAAiB;QACnB;IACF;IAGA,4BAA4B;IAC5B,MAAM,uBAAuB,aAAa,MAAM,CAAC,CAAC;QAChD,IAAI,eAAe,UAAU,OAAO,CAAC,EAAE,OAAO,IAAI,CAAC,IAAI;QACvD,IAAI,eAAe,WAAW,OAAO,CAAC,EAAE,UAAU,IAAI,CAAC,IAAI;QAC3D,OAAO;IACT;IAEF,QAAQ,GAAG,CAAC;IAEX,qBACC,uMAAC;QAAI,WAAU;;0BAGb,uMAAC;gBACC,WAAU;0BAUV,cAAA,uMAAC;oBAAI,WAAU;;sCACb,uMAAC;4BAAG,WAAU;;gCAAgD;8CAE5D,uMAAC;oCAAK,WAAU;;wCAA4C;wCACxD;wCAAa;;;;;;;;;;;;;sCAKnB,uMAAC;4BAAI,WAAU;;8CACb,uMAAC;oCACC,SAAS,IAAM,gBAAgB;oCAC/B,WAAU;8CACX;;;;;;8CAKD,uMAAC;oCAAI,WAAU;;sDACd,uMAAC;4CACV,OAAO;4CACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;4CAC7C,WAAU;;8DAaV,uMAAC;oDAAO,OAAM;8DAAM;;;;;;8DACpB,uMAAC;oDAAO,OAAM;8DAAS;;;;;;8DACvB,uMAAC;oDAAO,OAAM;8DAAU;;;;;;;;;;;;sDAId,uMAAC;4CACC,SAAS;4CACT,UAAU;4CACV,WAAW,AAAC,uEAKT,OAHC,gBACI,mCACA,iCACL;sDAGF,gBAAgB,iBAAiB;;;;;;;;;;;;8CAItC,uMAAC;oCACT,SAAS;wCACP,MAAM,MAAM,AAAC,2BAA+C,OAArB,cAAa,UAAmB,OAAX;wCAC5D,OAAO,IAAI,CAAC,KAAK,UAAU;oCAC7B;oCACA,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;0BAaG,uMAAC;gBAAI,WAAU;0BACb,cAAA,uMAAC,8LAAgB;oBACrB,cAAc;oBACd,SAAS;oBACT,iBAAiB;oBACjB,kBAAkB;oBAClB,qBAAqB;oBACrB,mBAAmB;;;;;;;;;;;YAMhB,8BACC,uMAAC,8LAAgB;gBACf,SAAS,IAAM,gBAAgB;gBAC/B,UAAU;;;;;;;;;;;;AAMlB;GAtUwB;;QACP,4JAAS;QACH,kKAAe;QA4BhC,mMAAe;;;KA9BG","debugId":null}}]
}